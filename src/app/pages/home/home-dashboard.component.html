<!-- ===== Sección: Accesos rápidos ===== -->
<section aria-labelledby="dash-quick" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
    <!-- Grupos de ingredientes -->
    <app-home-card
        [title]="'Grupos de ingredientes'"
        [total]="gruposCount()"
        [icon]="List"
        variant="success"
        [buttonText]="'Ver Grupos'"
        buttonVariant="primary"
        (navigate)="navegarA('/grupo-ingredientes')"
    />

    <!-- Ingredientes -->
    <app-home-card
        [title]="'Ingredientes'"
        [total]="ingredientesCount()"
        [icon]="Square"
        variant="success"
        [buttonText]="'Ver Ingredientes'"
        buttonVariant="primary"
        (navigate)="navegarA('/ingredientes')"
    />

    <!-- Pedidos del día -->
    <app-home-card
        [title]="'Pedidos del Día'"
        [total]="pedidosHoyCount()"
        [icon]="ShoppingBag"
        variant="success"
        [buttonText]="'Ver Todos los Pedidos'"
        buttonVariant="primary"
        (navigate)="navegarA('/pedidos')"
    />
</section>

<!-- ===== Sección: Pedidos de Hoy ===== -->
<section aria-labelledby="dash-pedidos-hoy" class="card-soft mt-4">
    <header class="card-head">
        <h2 id="dash-pedidos-hoy" class="card-title">Pedidos de Hoy ({{ now() | date:'dd/MM/yyyy' }})</h2>
        <nav class="card-actions" aria-label="Acciones de pedidos">
            <a routerLink="/pedidos/nuevo" class="btn btn--success">Nuevo Pedido</a>
            <a routerLink="/pedidos" class="btn btn--primary">Ver Todos</a>
        </nav>
    </header>

    <div class="w-full overflow-x-auto">
        <div *ngIf="loading()" class="p-8 text-center text-slate-500">
            Cargando pedidos...
        </div>

        <div *ngIf="!loading() && pedidosHoy().length === 0" class="p-8 text-center text-slate-500">
            No hay pedidos registrados hoy
        </div>

        <table *ngIf="!loading() && pedidosHoy().length > 0" class="table w-full">
            <thead>
                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Estado</th>
                    <th scope="col">Hora</th>
                    <th scope="col" class="text-right">Total</th>
                    <th scope="col" class="text-center">Acciones</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let pedido of pedidosHoy()">
                    <td class="font-semibold">#{{ pedido.id }}</td>
                    <td>
                        <span [ngClass]="getEstadoBadgeClass(pedido.estado)">
                            {{ getEstadoLabel(pedido.estado) }}
                        </span>
                    </td>
                    <td>
                        <time [dateTime]="pedido.creadoEn">
                            {{ pedido.creadoEn | date:'HH:mm' }}
                        </time>
                    </td>
                    <td class="text-right font-bold text-orange-600">
                        ${{ pedido.totalNeto.toFixed(2) }}
                    </td>
                    <td class="text-center">
                        <a [routerLink]="['/pedidos', pedido.id, 'detalle']" class="btn btn--sm btn--outline">
                            Ver detalle
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</section>