<form class="form" [formGroup]="form" (ngSubmit)="onSubmit()" autocomplete="off">
    <app-section-container [heading]="titleLabel" [compact]="true" [divider]="true" [inset]="true">
        <div class="fg">
            <app-input label="Código" [required]="true" [formGroup]="form" controlName="codigo"
                [soft]="true"></app-input>
            <app-input label="Nombre" [required]="true" [formGroup]="form" controlName="nombre"
                [soft]="true"></app-input>

            <app-select label="Grupo" [formGroup]="form" controlName="grupoPlatoId" [items]="grupos" [soft]="true"
                [errors]="{ required: 'Selecciona un grupo.' }"></app-select>

            <app-input label="Precio Base" type="numeric" [formGroup]="form" controlName="precioBase"
                [required]="true" [soft]="true" [disabled]="loading()"
                [step]="0.01" [min]="0.01" placeholder="0.00"
                hint="Precio en dólares (hasta 2 decimales)"
                [errors]="{'required': 'El precio es requerido', 'pattern': 'Solo números con hasta 2 decimales', 'min': 'Mínimo $0.01'}">
            </app-input>

            <app-select label="Estado" [formGroup]="form" controlName="estado"
                [items]="[{label:'Activo', value:'A'}, {label:'Inactivo', value:'I'}]" [soft]="true" [disabled]="loading()">
            </app-select>

            <app-select label="¿En Promoción?" [formGroup]="form" controlName="enPromocion"
                [items]="[{label:'Sí', value:'S'}, {label:'No', value:'N'}]" [soft]="true" [disabled]="loading()">
            </app-select>

            <app-input label="Descuento (%)" type="numeric" [formGroup]="form" controlName="descuentoPct"
                [soft]="true" [disabled]="loading()"
                [step]="1" [min]="0" [max]="100" placeholder="0"
                hint="Porcentaje de descuento (0-100)"
                [errors]="{'pattern': 'Solo números con hasta 2 decimales', 'min': 'Mínimo 0%', 'max': 'Máximo 100%'}">
            </app-input>

        </div>
    </app-section-container>

    <app-save-cancel [saveLabel]="id ? 'Guardar cambios' : 'Crear'" cancelLabel="Cancelar" [loading]="loading()"
        [sticky]="true" (cancel)="onCancel()">
    </app-save-cancel>
</form>