/* src/assets/styles/ui-classes.css */
@layer components {

/* ===== BOTONES (API: data-variant + data-size + .icon-only) ===== */
.btn {
  /* defaults */
  --btn-font: .9375rem;
  --btn-px: .75rem;
  --btn-py: .5rem;
  --btn-radius: var(--radius);
  --btn-gap: .5rem;
  --btn-icon: 18px; /* override desde template con style.--btn-icon */

  display: inline-flex; align-items: center; justify-content: center; gap: var(--btn-gap);
  padding: var(--btn-py) var(--btn-px);
  font-size: var(--btn-font); font-weight: 600;
  border-radius: var(--btn-radius); border: 1px solid rgb(var(--line-rgb));
  background: rgb(var(--surface-rgb)); color: rgb(var(--fg-rgb));
  transition: background-color .15s, border-color .15s, color .15s, transform .12s;
}
.btn:hover { background: var(--hover-surface); }
.btn:focus-visible { outline: 2px solid var(--ring-brand); outline-offset: 2px; }
.btn:disabled, .btn[aria-disabled="true"] { opacity: .55; pointer-events: none; }

/* Tamaños */
.btn[data-size="xs"] { --btn-font: .75rem;   --btn-px: .5rem;  --btn-py: .25rem; --btn-icon: 14px; }
.btn[data-size="sm"] { --btn-font: .875rem;  --btn-px: .625rem;--btn-py: .375rem;--btn-icon: 16px; }
.btn[data-size="md"] { --btn-font: .9375rem; --btn-px: .75rem; --btn-py: .5rem;  --btn-icon: 18px; }
.btn[data-size="lg"] { --btn-font: 1rem;     --btn-px: .9rem; --btn-py: .625rem; --btn-icon: 20px; }

/* Icon-only: cuadrado agradable usando el icon-size actual */
.btn.icon-only {
  padding: calc(var(--btn-py) - 2px);
  width: calc(var(--btn-icon) + var(--btn-px) * 1.5);
  height: calc(var(--btn-icon) + var(--btn-py) * 2);
}

/* Variantes */
.btn[data-variant="primary"] {
  color: rgb(var(--brand-ctr-rgb));
  border-color: transparent;
  background: rgb(var(--primary-rgb));
}
.btn[data-variant="primary"]:hover { background: color-mix(in oklab, rgb(var(--primary-rgb)) 85%, black); }

.btn[data-variant="secondary"] {
  color: rgb(var(--brand-ctr-rgb));
  border-color: transparent;
  background: rgb(var(--accent-rgb));
}
.btn[data-variant="secondary"]:hover { background: color-mix(in oklab, rgb(var(--accent-rgb)) 85%, black); }

.btn[data-variant="outline"] {
  background: transparent;
  color: rgb(var(--brand-rgb));
  border-color: color-mix(in oklab, rgb(var(--brand-rgb)) 45%, rgb(var(--line-rgb)));
}
.btn[data-variant="outline"]:hover {
  background: var(--tint-brand); border-color: rgb(var(--brand-rgb));
}

.btn[data-variant="ghost"] {
  border-color: transparent; background: transparent; color: rgb(var(--fg-rgb));
}
.btn[data-variant="ghost"]:hover { background: var(--hover-surface); }

.btn[data-variant="danger"] {
  color: rgb(var(--on-strong-rgb)); border-color: transparent; background: rgb(var(--danger-rgb));
}
.btn[data-variant="warning"] {
  color: rgb(var(--fg-rgb)); border-color: transparent; background: rgb(var(--warning-rgb));
}


/* ===== PAGINATOR ===== */
:host { display: block; }

/* ===== Paginator base ===== */
.pager {
  display: flex; align-items: center; justify-content: space-between; gap: .75rem;
  padding: .5rem .25rem;
  color: rgb(var(--fg-rgb));
  /* Tipografía variables */
  --pager-fz: .9375rem; /* 15px por defecto */
  --pager-muted: color-mix(in oklab, rgb(var(--fg-rgb)) 68%, transparent);
  --pager-strong: rgb(var(--fg-rgb));
}

.pager__info { font-size: var(--pager-fz); color: var(--pager-muted); }
.pager__info strong { font-weight: 600; color: var(--pager-strong); }

.pager__controls { display: flex; align-items: center; gap: .75rem; }
.pager__size { display: inline-flex; align-items: center; gap: .5rem; color: rgb(var(--fg-rgb)); font-size: var(--pager-fz); }
.pager__size select { font-size: 12px; }

.pager__nav { display: inline-flex; align-items: center; gap: .375rem; }
.pager__page {
  display: inline-flex; align-items: center; gap: .25rem; min-width: 9ch; justify-content: center;
  font-variant-numeric: tabular-nums; font-size: var(--pager-fz); color: var(--pager-muted);
}

/* Tamaños */
.pager--sm { --pager-fz: .875rem; }  /* 14px */
.pager--md { --pager-fz: .9375rem; } /* 15px (default) */
.pager--lg { --pager-fz: 1rem; }     /* 16px */

/* Estados de color */
.pager--quiet  { --pager-muted: color-mix(in oklab, rgb(var(--fg-rgb)) 55%, transparent); }
.pager--bold   { --pager-muted: rgb(var(--fg-rgb)); }
.pager--accent { --pager-strong: rgb(var(--brand-rgb)); }

/* Sólo-info: alinea a la izquierda y oculta hueco */
.pager--infoonly { justify-content: flex-start; }

@media (max-width: 640px) {
  .pager { flex-wrap: wrap; gap: .5rem 1rem; }
  .pager__info { order: 2; width: 100%; }
  .pager__controls { order: 1; width: 100%; justify-content: space-between; }
}



/* ===== TABLE ===== */
.table-wrap {
  position: relative;
  overflow: auto;
  border-radius: 16px;
  background: rgb(var(--surface-rgb));
  border: 1px solid rgb(var(--line-rgb));
  box-shadow: var(--shadow-soft);
}

.table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  font-size: .9375rem;
}


/* Head sticky con gradiente sutil y blur */
.table thead {
  position: sticky; top: 0; z-index: 1;
  background: rgb(var(--surface2-rgb));
  border-bottom: 1px solid rgb(var(--line-rgb));
  backdrop-filter: saturate(160%) blur(2px);
}

/* Celdas */
.table th, .table td {
  padding: .75rem 1rem;
  vertical-align: middle;
  color: rgb(var(--fg-rgb));
}

/* Bordes de filas */
.table tbody td { border-bottom: 1px solid rgb(var(--line-rgb)); }
.table tbody tr:last-child td { border-bottom-color: transparent; }

/* Zebra */
.table--zebra tbody tr:nth-child(2n) td {
  background: rgb(var(--surface2-rgb));
}

/* Hover por fila (dos formas, para compatibilidad con tu markup) */
.table--hover tbody tr:hover td,
.row-hover:hover td {
  background: color-mix(in oklab, rgb(var(--surface2-rgb)) 85%, rgb(var(--surface-rgb)));
}

/* Cabeceras redondeadas */
.table thead th:first-child { border-top-left-radius: 16px; }
.table thead th:last-child  { border-top-right-radius: 16px; }

/* Pie redondeado si no hay paginador pegado debajo */
.table tbody tr:last-child td:first-child { border-bottom-left-radius: 16px; }
.table tbody tr:last-child td:last-child  { border-bottom-right-radius: 16px; }

/* Botón de orden: sin estilos de botón, con indicador y focus consistente */
.sort-btn {
  display: inline-flex; align-items: center; gap: .375rem;
  background: transparent; border: 0; padding: 0; font: inherit; color: inherit;
  cursor: pointer;
}
.sort-btn:focus-visible { outline: 2px solid var(--ring-brand); outline-offset: 2px; }

/* Indicador de orden (usa tu ChevronDown) */
.sort-indicator { display: inline-flex; width: 1rem; height: 1rem; opacity: .55; transition: transform .15s, opacity .15s; }
.sort-indicator.is-active { opacity: 1; }
.sort-indicator.asc { transform: rotate(180deg); }

/* Columna de acciones */
.td--actions { text-align: right; white-space: nowrap; }

/* Densidades (útiles para tablas “compactas”) */
.table--dense th, .table--dense td { padding: .5rem .75rem; }
.table--superdense th, .table--superdense td { padding: .375rem .5rem; }

/* Utilidades opcionales para columnas sticky (primera/última) */
.sticky-col-left  { position: sticky; left: 0; z-index: 2; background: rgb(var(--surface-rgb)); }
.sticky-col-right { position: sticky; right: 0; z-index: 2; background: rgb(var(--surface-rgb)); }
/* sombra suave al borde de la sticky (se ve mejor en temas claros) */
.sticky-col-left { box-shadow: 6px 0 12px rgba(2,6,23,.04); }
.sticky-col-right { box-shadow: -6px 0 12px rgba(2,6,23,.04); }

/* Elipsis para textos largos en celdas (puedes asignarla por columna) */
.cell-ellipsis { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

/* Números alineados y legibles (útil para money, cantidades) */
.num { font-variant-numeric: tabular-nums; text-align: right; }

/* Responsive: compáctalo un pelo en pantallas pequeñas */
@media (max-width: 640px) {
  .table th, .table td { padding: .6rem .75rem; }
  .table { font-size: .9rem; }
}

/* ===== Skeletons ===== */
.skeleton {
  width: 100%;
  border-radius: 10px;
  position: relative;
  overflow: hidden;
  /* tono neutro según tus tokens */
  background: color-mix(in oklab, rgb(var(--surface3-rgb)) 85%, rgb(var(--surface2-rgb)));
}
.skeleton::after {
  content: "";
  position: absolute; inset: 0;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.35), transparent);
  transform: translateX(-100%);
  animation: skel 1.2s ease-in-out infinite;
}
@keyframes skel { to { transform: translateX(100%); } }

/* Variantes útiles */
.skeleton-line      { height: .9rem; }
.skeleton-line--lg  { height: 1.2rem; }
.skeleton-pill      { height: 1.1rem; width: 5.5rem; border-radius: 9999px; }
.skeleton-rows      { display: grid; gap: .5rem; }

/* Layout fantasma por columnas (opcional para tablas) */
.skeleton-row {
  display: grid;
  grid-template-columns: 96px 2fr 1.5fr 1.2fr 140px auto; /* ajusta a tus columnas */
  gap: 1rem;
}
@media (max-width: 640px) {
  .skeleton-row { grid-template-columns: 1fr 1fr; }
}

/* ===== Search ===== */
.search {
  display: flex;
  align-items: center;
  gap: .5rem;
  width: 100%;
  padding: .5rem .75rem;
  border: 1px solid rgb(var(--line-rgb));
  border-radius: 10px;
  background: rgb(var(--surface-rgb));
  transition: box-shadow .15s, transform .15s, border-color .15s, background-color .15s;
  color: rgb(var(--fg-rgb));
}
.search:hover { background: var(--hover-surface); }
.search:focus-within {
  box-shadow: 0 0 0 3px color-mix(in oklab, rgb(var(--brand-rgb)) 22%, transparent), var(--shadow-soft);
  transform: translateY(-1px);
  border-color: color-mix(in oklab, rgb(var(--brand-rgb)) 35%, rgb(var(--line-rgb)));
}

.search__input {
  appearance: none; outline: 0; border: 0;
  flex: 1; min-width: 0; /* evita saltos en contenedores estrechos */
  background: transparent;
  font-size: .9375rem;
  color: rgb(var(--fg-rgb));
}
.search__input::placeholder {
  color: color-mix(in oklab, rgb(var(--fg-rgb)) 45%, transparent);
}

/* Clear button (icon-ghost pequeño) */
.search__clear {
  display: inline-flex; align-items: center; justify-content: center;
  width: 1.75rem; height: 1.75rem;
  border: 0; background: transparent; border-radius: 8px;
  color: color-mix(in oklab, rgb(var(--fg-rgb)) 75%, transparent);
  transition: background-color .15s, color .15s, transform .15s;
}
.search__clear:hover { background: var(--hover-surface); }
.search__clear:focus-visible { outline: 2px solid var(--ring-brand); outline-offset: 2px; }
.search__clear:disabled { opacity: .5; pointer-events: none; }

/* Busy (spinner discreto en el extremo derecho) */
.search.is-busy { position: relative; }
.search__spinner {
  position: absolute; right: .5rem; top: 50%; transform: translateY(-50%);
  width: 1rem; height: 1rem; border-radius: 9999px;
  border: 2px solid color-mix(in oklab, rgb(var(--fg-rgb)) 75%, transparent);
  border-right-color: transparent;
  animation: spin .9s linear infinite;
}
@keyframes spin { to { transform: translateY(-50%) rotate(360deg); } }

/* Tamaños opcionales */
.search--sm { padding: .375rem .625rem; border-radius: 8px; }
.search--sm .search__input { font-size: .875rem; }
.search--lg { padding: .625rem .875rem; border-radius: 12px; }
.search--lg .search__input { font-size: 1rem; }

/* Variante pill (por si quieres usarla en toolbars) */
.search--pill { border-radius: 9999px; }

/* ===== Tabs Filter ===== */
.tabs {
  display: flex; gap: .75rem; align-items: center;
  border-bottom: 1px solid rgb(var(--line-rgb));
  margin-bottom: .75rem;
  overflow-x: auto; scrollbar-width: thin;
}

.tab {
  appearance: none; background: transparent; border: 0; margin: 0;
  padding: .5rem .5rem; border-radius: 10px;
  font: inherit; cursor: pointer; position: relative;
  color: color-mix(in oklab, rgb(var(--fg-rgb)) 72%, transparent);
  transition: color .15s, background-color .15s, transform .15s;
}
.tab:hover { background: var(--hover-surface); color: rgb(var(--fg-rgb)); }
.tab:focus-visible { outline: 2px solid var(--ring-brand); outline-offset: 2px; }

.tab.is-active {
  color: var(--tab-color);
  background: color-mix(in oklab, var(--tab-color) 9%, transparent);
  font-weight: 600;
}
.tab.is-active::after {
  content: ""; position: absolute; left: .5rem; right: .5rem; bottom: -1px; height: 2px;
  background: var(--tab-color); border-radius: 2px;
}

/* Badge con tinte leve coherente */
.tab__count{
  display:inline-flex; align-items:center; justify-content:center;
  margin-left:.35rem; min-width:1.35rem; height:1.2rem; padding:0 .35rem;
  border-radius:9999px; font-size:.75rem; font-weight:600;
  background: rgb(var(--surface2-rgb));
  color: color-mix(in oklab, rgb(var(--fg-rgb)) 80%, transparent);
  border:1px solid rgb(var(--line-rgb));
}

/* Si quieres que aparezca "({n})" automáticamente */
.tab__count--paren::before { content:"("; margin-right:.1rem; }
.tab__count--paren::after  { content:")"; margin-left:.1rem; }

/* Tamaño chico */
.tab--sm { padding: .375rem .425rem; border-radius: 8px; font-size: .9rem; }

@media (max-width: 640px) {
  .tabs { gap: .5rem; }
  .tab { padding: .45rem .45rem; }
}

/* ===== PAGELAYOUT ===== */
  :root { --page-sticky-offset: var(--header-h); }

  .layout {
    display: grid;
    grid-template-rows: auto 1fr auto;
    min-height: 100%;
  }

  .layout__in {
    max-width: theme('maxWidth.7xl'); 
    margin-inline: auto;
    padding-inline: 1rem; /* px-4 */
  }

  @media (min-width: 768px) { .layout__in { padding-inline: 1.5rem; } } /* md:px-6 */

  .layout__header {
  border-bottom: 1px solid rgb(var(--line-rgb));
  background: linear-gradient(180deg, rgb(var(--surface2-rgb)), rgb(var(--surface-rgb)));
  padding-block: .1rem;
  }

.layout__header.is-sticky {
  position: sticky;
  top: var(--page-sticky-offset);
  z-index: calc(var(--z-header) - 1);
  backdrop-filter: saturate(160%) blur(6px);
}

  /* Contenido */
  .layout__content {
    padding-block: 1rem; /* separa del header */
    background: rgb(var(--surface-rgb));
  }

  /* Footer de página (opcional) se mantiene al final del PageLayout */
  .layout__footer {
    border-top: 1px solid rgb(var(--line-rgb));
    background: rgb(var(--surface-rgb));
    color: color-mix(in oklab, rgb(var(--fg-rgb)) 72%, transparent);
  }
  .layout__footer .layout__in { padding-block: .75rem; }

  /* ===== Modos de ancho ===== */
  .layout--narrow .layout__in { max-width: theme('maxWidth.4xl'); }
  .layout--wide   .layout__in { max-width: 110rem; } /* ~1760px para tablas grandes */
  .layout--full   .layout__in { max-width: none; }

  /* ===== Utilidades (opcionales) ===== */

  /* Sección que “sangra” a los bordes dentro de layout__content */
  .bleed {
    margin-left: calc(50% - 50vw);
    margin-right: calc(50% - 50vw);
    padding-inline: max(1rem, calc(50vw - 50%));
  }

  /* Variante compacta del header de página (si lo necesitas en alguna vista) */
  .layout__header--compact { padding-block: .5rem; }


  /* ===== Section Container ===== */
.section { position: relative; overflow: hidden; }

/* Stripe lateral sutil cuando hay accent */
.section[data-accent]::before {
  content: ""; position: absolute; inset: 0 auto 0 0; width: 4px; opacity: .9;
  background: rgb(var(--brand-rgb)); /* fallback */
}
.section[data-accent="brand"]::before  { background: rgb(var(--brand-rgb)); }
.section[data-accent="success"]::before{ background: rgb(var(--success-rgb)); }
.section[data-accent="warn"]::before   { background: rgb(var(--warning-rgb)); }
.section[data-accent="danger"]::before { background: rgb(var(--danger-rgb)); }
.section[data-accent="info"]::before   { background: rgb(var(--info-rgb)); }

/* Head */
.section__head { display: flex; align-items: center; justify-content: space-between; gap: .75rem; }
.section__head.is-sticky {
  position: sticky;
  top: var(--page-sticky-offset, var(--header-h));
  z-index: 1;
  backdrop-filter: saturate(160%) blur(4px);
}

/* Título + descripción */
.section__titlewrap { display: grid; gap: .125rem; }
.section-title { font-weight: 600; letter-spacing: -0.01em; }
.section-desc  { font-size: .9375rem; color: color-mix(in oklab, rgb(var(--fg-rgb)) 70%, transparent); }

/* Acciones: fila con wrap en móviles */
.section-actions { display: inline-flex; align-items: center; gap: .5rem; flex-wrap: wrap; }

/* Body */
.section__body { padding: 1rem; }

/* Variantes de densidad */
.section--compact .section__head { padding-block: .5rem !important; }
.section--compact .section__body { padding: .75rem !important; }

/* Inset: cuerpo más ceñido (para bloques con mucho contenido) */
.section--inset .section__body { padding: .75rem 0.75rem; }

/* Divider: separador superior visual cuando apilas secciones */
.section--divider { margin-top: 1rem; }
.section--divider::after {
  content:""; position:absolute; left:0; right:0; top:0; height:1px;
  background: rgb(var(--line-rgb)); opacity:.9;
}

/* Acento también tiñe el header muy suave */
.section[data-accent="brand"]  .section__head { background: var(--tint-brand);  border-bottom: 1px solid var(--border-brand); }
.section[data-accent="success"].section .section__head { background: var(--tint-ok);     border-bottom: 1px solid var(--border-ok); }
.section[data-accent="warn"]   .section__head { background: var(--tint-warn);   border-bottom: 1px solid var(--border-warn); }
.section[data-accent="danger"] .section__head { background: var(--tint-danger); border-bottom: 1px solid var(--border-danger); }

/* Info: no tenías border-info, lo componemos aquí */
.section[data-accent="info"] .section__head {
  background: color-mix(in oklab, rgb(var(--info-rgb)) 7%, rgb(var(--surface-rgb)));
  border-bottom: 1px solid color-mix(in oklab, rgb(var(--info-rgb)) 32%, rgb(var(--line-rgb)));
}

/* Responsive */
@media (max-width: 640px) {
  .section__head { align-items: start; }
  .section-actions { justify-content: flex-start; }
}

/* ===== Forms ===== */

/* Layout base del formulario */
.form { display: grid; gap: 1rem; }

/* Grid de campos (auto-fit a 240px) */
.fg {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: .75rem 1rem;
}

/* Field + Label */
.form-field { display: grid; gap: .375rem; width: 100%; }
.form-label { font-weight: 600; letter-spacing: -.01em; color: rgb(var(--fg-rgb)); }
.form-label.req::after { content: " *"; color: rgb(var(--danger-rgb)); }

/* Contenedor para prefijos/sufijos */
.input-affix { display: flex; align-items: center; gap: .375rem; }
.input-affix__prefix,
.input-affix__suffix {
  display: inline-flex; align-items: center; justify-content: center;
  min-width: 1.75rem; height: 2.25rem; padding-inline: .25rem;
  border: 1px solid rgb(var(--line-rgb)); border-radius: 10px;
  background: rgb(var(--surface2-rgb));
  color: color-mix(in oklab, rgb(var(--fg-rgb)) 70%, transparent);
}

label.form-field { display: block; border: 0; padding: 0; }

/* Campo base */
.field {
  appearance: none;
  width: 100%;
  height: 2.25rem;
  padding: .5rem .75rem;
  border: 1px solid rgb(var(--line-rgb));
  border-radius: 10px;
  background: rgb(var(--surface-rgb));
  color: rgb(var(--fg-rgb));
  font-size: .9375rem;
  transition: box-shadow .15s, border-color .15s, background-color .15s, transform .15s;
}
.field.field--soft {
  background: rgb(var(--surface2-rgb));
  border-color: color-mix(in oklab, rgb(var(--line-rgb)) 85%, transparent);
}

/* Focus */
.field:focus {
  outline: none;
  border-color: color-mix(in oklab, rgb(var(--brand-rgb)) 35%, rgb(var(--line-rgb)));
  box-shadow: 0 0 0 3px color-mix(in oklab, rgb(var(--brand-rgb)) 22%, transparent), var(--shadow-soft);
  transform: translateY(-1px);
}

/* Invalid */
.field.is-invalid {
  border-color: var(--border-danger);
  box-shadow: 0 0 0 3px color-mix(in oklab, rgb(var(--danger-rgb)) 18%, transparent);
}

/* Disabled / Readonly */
.field:disabled, .field[readonly] {
  opacity: .7; background: rgb(var(--surface3-rgb));
  cursor: not-allowed;
}

/* Textarea */
textarea.field {
  min-height: 120px; resize: vertical; line-height: 1.35;
  padding-top: .6rem; padding-bottom: .6rem;
}

/* Mensajes */
.form-help  { color: color-mix(in oklab, rgb(var(--fg-rgb)) 60%, transparent); }
.form-error { color: rgb(var(--danger-rgb)); font-weight: 500; }

/* Select nativo con flecha homogénea (si lo usas) */
select.field {
  background-image:
    linear-gradient(45deg, transparent 50%, rgb(var(--fg-rgb)) 50%),
    linear-gradient(135deg, rgb(var(--fg-rgb)) 50%, transparent 50%),
    linear-gradient(to right, transparent, transparent);
  background-position:
    calc(100% - 18px) 50%,
    calc(100% - 12px) 50%,
    100% 0;
  background-size: 6px 6px, 6px 6px, 2.5rem 2.5rem;
  background-repeat: no-repeat;
  padding-right: 2.25rem; /* espacio para la flecha */
}

/* Espaciado vertical pequeño entre campos en secciones compactas */
.section--compact .form { gap: .75rem; }
.section--compact .fg    { gap: .5rem .75rem; }

/* Select nativo con flecha homogénea */
select.field {
  background-image:
    linear-gradient(45deg, transparent 50%, rgb(var(--fg-rgb)) 50%),
    linear-gradient(135deg, rgb(var(--fg-rgb)) 50%, transparent 50%),
    linear-gradient(to right, transparent, transparent);
  background-position:
    calc(100% - 18px) 50%,
    calc(100% - 12px) 50%,
    100% 0;
  background-size: 6px 6px, 6px 6px, 2.5rem 2.5rem;
  background-repeat: no-repeat;
  padding-right: 2.25rem;
}


/* ===== Page Title ===== */
.title {
  display: flex; align-items: center; gap: .75rem;
  padding: .75rem 0;
  width: 100%;                         /* NEW */
  justify-content: flex-start;         /* NEW: deja que el aside empuje con margin-left:auto */
}

.title__left {
  display: flex; align-items: center; gap: .9rem;
  flex: 3 3 auto;
  min-width: 0;                        
}

.title__text { display: grid; gap: .125rem; min-width: 0; } /* NEW */

.title__label {
  font-weight: 300;
  letter-spacing: -.01em;
  font-size: clamp(1.15rem, 1rem + 1.2vw, 1.6rem);
  color: rgb(var(--fg-rgb));
  white-space: nowrap;                 /* NEW: evita salto */
  overflow: hidden; text-overflow: ellipsis; /* NEW: elipsis si es largo */
}

.title__sub {
  font-size: .9375rem;
  color: color-mix(in oklab, rgb(var(--fg-rgb)) 70%, transparent);
}

.title__aside {
  margin-left: auto;                   /* ya lo tenías */
  display: inline-flex; align-items: center; gap: .5rem; /* NEW */
  flex: 0 0 auto;                      /* NEW: que no se encoja */
}

/* back hereda tu .icon-btn */
.back-btn { border-color: rgb(var(--line-rgb)); }
.back-btn:hover { background: var(--hover-surface); }

/* compacta opcional */
.title--compact { padding: .5rem 0; }
.title--compact .title__label { font-size: clamp(1.05rem, .95rem + .9vw, 1.35rem); }
.title--compact .title__sub { font-size: .875rem; }

.title--tinted { padding: .5rem; }
.title--tinted .title__left {
  padding: .5rem .75rem;
  border-radius: 14px;
  box-shadow: var(--shadow-soft);
}
.title--tinted .back-btn {
  border-color: transparent;
  background: color-mix(in oklab, var(--title-color) 12%, transparent);
}

/* line: minimalista */
.title--line {
  border-bottom: 2px solid color-mix(in oklab, var(--title-color) 60%, rgb(var(--line-rgb)));
  padding-bottom: .5rem;
}

/* tono (si usas data-tone) */
.title { --title-color: rgb(var(--brand-rgb)); }
.title[data-tone="accent"] { --title-color: rgb(var(--accent-rgb)); }
.title[data-tone="warn"]   { --title-color: rgb(var(--warning-rgb)); }
.title[data-tone="ok"]     { --title-color: rgb(var(--success-rgb)); }


/* ===== PILLS ===== */
.pill {
  display:inline-flex; align-items:center; padding:.125rem .5rem;
  border-radius:9999px; font-size:.75rem; font-weight:600; line-height:1.1;
  border:1px solid rgb(var(--line-rgb));
  background: rgb(var(--surface2-rgb));
  color: color-mix(in oklab, rgb(var(--fg-rgb)) 70%, transparent);
}
.pill--success { background:#ecfdf5; color:#065f46; border-color:#a7f3d0; }
.pill--warning { background:#fffbeb; color:#92400e; border-color:#fde68a; }
.pill--danger  { background:#fef2f2; color:#991b1b; border-color:#fecaca; }
.pill--muted   { background: rgb(var(--surface2-rgb)); color: color-mix(in oklab, rgb(var(--fg-rgb)) 70%, transparent); }


/* ===== Toasts ===== */
.toasts {
  position: fixed; inset: 1rem 1rem auto auto;
  z-index: 70; display: grid; gap: .5rem;
  width: min(92vw, 22rem);
}
.toast {
  display: flex; align-items: center; justify-content: space-between; gap: .75rem;
  padding: .5rem .75rem; border-radius: 12px;
  border: 1px solid rgb(var(--line-rgb));
  background: rgb(var(--surface-rgb)); color: rgb(var(--fg-rgb));
  box-shadow: var(--shadow-soft);
}
.toast__text { font-size: .9375rem; }
.toast__close {
  border: 0; background: transparent; font-size: 1rem; line-height: 1; cursor: pointer;
  color: color-mix(in oklab, rgb(var(--fg-rgb)) 70%, transparent);
}
.toast__close:hover { color: rgb(var(--fg-rgb)); }

/* Variantes */
.toast--success {
  border-color: color-mix(in oklab, rgb(var(--success-rgb)) 45%, rgb(var(--line-rgb)));
  background: color-mix(in oklab, rgb(var(--success-rgb)) 12%, rgb(var(--surface-rgb)));
}
.toast--error {
  border-color: color-mix(in oklab, rgb(var(--danger-rgb)) 45%, rgb(var(--line-rgb)));
  background: color-mix(in oklab, rgb(var(--danger-rgb)) 12%, rgb(var(--surface-rgb)));
}
.toast--warning {
  border-color: color-mix(in oklab, rgb(var(--warning-rgb)) 45%, rgb(var(--line-rgb)));
  background: color-mix(in oklab, rgb(var(--warning-rgb)) 12%, rgb(var(--surface-rgb)));
}
.toast--info {
  border-color: color-mix(in oklab, rgb(var(--info-rgb)) 45%, rgb(var(--line-rgb)));
  background: color-mix(in oklab, rgb(var(--info-rgb)) 12%, rgb(var(--surface-rgb)));
}


}
